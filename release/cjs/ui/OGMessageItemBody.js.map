{"version":3,"file":"OGMessageItemBody.js","sources":["../../../src/ui/OGMessageItemBody/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext } from 'react';\nimport { UserMessage } from 'sendbird';\nimport './index.scss';\n\nimport Word from '../Word';\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes } from '../Icon';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport uuidv4 from '../../utils/uuid';\nimport { getClassName, isEditedMessage } from '../../utils';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isMentionEnabled?: boolean;\n}\n\nexport default function OGMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isMentionEnabled = false,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  const openOGUrl = (): void => {\n    if (message?.ogMetaData?.url) window.open(message?.ogMetaData?.url);\n  };\n  const isMessageMentioned = isMentionEnabled && message?.mentionedMessageTemplate?.length > 0 && message?.mentionedUsers?.length > 0;\n  return (\n    <div className={getClassName([\n      className,\n      'sendbird-og-message-item-body',\n      isByMe ? 'outgoing' : 'incoming',\n      mouseHover ? 'mouse-hover' : '',\n      message?.reactions?.length > 0 ? 'reactions' : '',\n    ])}>\n      <Label\n        key={uuidv4()}\n        type={LabelTypography.BODY_1}\n        color={isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1}\n      >\n        <p className=\"sendbird-og-message-item-body__text-bubble\">\n          {\n            isMessageMentioned\n              ? (\n                message?.mentionedMessageTemplate.split(' ').map((word: string) => (\n                  <Word\n                    key={uuidv4()}\n                    word={word}\n                    message={message}\n                    isByMe={isByMe}\n                  />\n                ))\n              )\n              : (\n                message?.message.split(' ').map((word: string) => (\n                  <Word\n                    key={uuidv4()}\n                    word={word}\n                    message={message}\n                    isByMe={isByMe}\n                  />\n                ))\n              )\n          }\n          {\n            isEditedMessage(message) && (\n              <Label\n                className=\"sendbird-og-message-item-body__text-bubble__message\"\n                type={LabelTypography.BODY_1}\n                color={isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2}\n              >\n                {` ${stringSet.MESSAGE_EDITED} `}\n              </Label>\n            )\n          }\n        </p>\n      </Label>\n      <div\n        className=\"sendbird-og-message-item-body__og-thumbnail\"\n        onClick={openOGUrl}\n      >\n        <ImageRenderer\n          className=\"sendbird-og-message-item-body__og-thumbnail__image\"\n          url={message?.ogMetaData?.defaultImage?.url || ''}\n          alt={message?.ogMetaData?.defaultImage?.alt}\n          // TODO: Change fixing width and height lengths\n          width=\"320px\"\n          height=\"180px\"\n          defaultComponent={(\n            <div className=\"sendbird-og-message-item-body__og-thumbnail__place-holder\">\n              <Icon\n                className=\"sendbird-og-message-item-body__og-thumbnail__place-holder__icon\"\n                type={IconTypes.THUMBNAIL_NONE}\n                width=\"56px\"\n                height=\"56px\"\n              />\n            </div>\n          )}\n        />\n      </div>\n      <div\n        className=\"sendbird-og-message-item-body__description\"\n        onClick={openOGUrl}\n      >\n        {message?.ogMetaData?.title && (\n          <Label\n            className=\"sendbird-og-message-item-body__description__title\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {message.ogMetaData.title}\n          </Label>\n        )}\n        {message?.ogMetaData?.description && (\n          <Label\n            className=\"sendbird-og-message-item-body__description__description\"\n            type={LabelTypography.BODY_2}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {message.ogMetaData.description}\n          </Label>\n        )}\n        {message?.ogMetaData?.url && (\n          <Label\n            className=\"sendbird-og-message-item-body__description__url\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {message.ogMetaData.url}\n          </Label>\n        )}\n      </div>\n      <div className=\"sendbird-og-message-item-body__cover\" />\n    </div>\n  );\n}\n"],"names":["OGMessageItemBody","_a","className","message","_m","isByMe","_o","mouseHover","_p","isMentionEnabled","stringSet","useContext","LocalizationContext","openOGUrl","ogMetaData","url","window","open","isMessageMentioned","mentionedMessageTemplate","length","mentionedUsers","React","getClassName","reactions","Label","uuidv4","LabelTypography","BODY_1","LabelColors","ONCONTENT_1","ONBACKGROUND_1","split","map","word","Word","isEditedMessage","ONCONTENT_2","ONBACKGROUND_2","MESSAGE_EDITED","ImageRenderer","defaultImage","alt","Icon","IconTypes","THUMBNAIL_NONE","title","SUBTITLE_2","description","BODY_2","CAPTION_3"],"mappings":"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"}