{"version":3,"file":"SelectChannelType.js","sources":["../../../../src/smart-components/CreateChannel/utils.ts","../../../../src/smart-components/CreateChannel/components/SelectChannelType.tsx"],"sourcesContent":["import SendBird from 'sendbird';\n\nexport const isBroadcastChannelEnabled = (sdk: SendBird.SendBirdInstance): boolean => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const isSuperGroupChannelEnabled = (sdk: SendBird.SendBirdInstance): boolean => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n","import React, { useContext } from 'react';\n\nimport sendBirdSelectors from '../../../lib/selectors';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\n\nimport { useCreateChannelContext } from '../context/CreateChannelProvider';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nimport Modal from '../../../ui/Modal';\n\nimport {\n  isBroadcastChannelEnabled,\n  isSuperGroupChannelEnabled,\n} from '../utils';\nimport SendBird from 'sendbird';\nimport { CHANNEL_TYPE } from '../types';\n\nexport interface SelectChannelTypeProps {\n  onCancel?(): void;\n}\n\nconst SelectChannelType: React.FC<SelectChannelTypeProps> = (props: SelectChannelTypeProps) => {\n  const { onCancel } = props;\n  const store = useSendbirdStateContext();\n\n  const sdk: SendBird.SendBirdInstance = sendBirdSelectors.getSdk(store);\n\n  const createChannelProps = useCreateChannelContext();\n  const {\n    setStep,\n    setType,\n  } = createChannelProps;\n\n  const { stringSet } = useContext(LocalizationContext);\n\n  const isBroadcastAvailable = isBroadcastChannelEnabled(sdk);\n  const isSupergroupAvailable = isSuperGroupChannelEnabled(sdk);\n\n  return (\n    <Modal\n      titleText={stringSet?.MODAL__CREATE_CHANNEL__TITLE}\n      hideFooter\n      onCancel={() => { onCancel(); }}\n    >\n      <div className=\"sendbird-add-channel__rectangle-wrap\">\n        <div\n          className=\"sendbird-add-channel__rectangle\"\n          onClick={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n        >\n          <Icon\n            className=\"sendbird-add-channel__rectangle__chat-icon\"\n            type={IconTypes.CHAT}\n            fillColor={IconColors.PRIMARY}\n            width=\"28px\"\n            height=\"28px\"\n          />\n          <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.MODAL__CREATE_CHANNEL__GROUP}\n          </Label>\n        </div>\n        {\n          isSupergroupAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__supergroup-icon\"\n                type={IconTypes.SUPERGROUP}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__SUPER}\n              </Label>\n            </div>\n          )\n        }\n        {\n          isBroadcastAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__broadcast-icon\"\n                type={IconTypes.BROADCAST}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__BROADCAST}\n              </Label>\n            </div>\n          )\n        }\n      </div>\n    </Modal>\n  );\n}\n\nexport default SelectChannelType;\n"],"names":["isBroadcastChannelEnabled","sdk","ALLOW_BROADCAST_CHANNEL","applicationAttributes","appInfo","Array","isArray","includes","isSuperGroupChannelEnabled","ALLOW_SUPER_GROUP_CHANNEL","SelectChannelType","props","onCancel","store","useSendbirdStateContext","sendBirdSelectors","getSdk","createChannelProps","useCreateChannelContext","setStep","setType","stringSet","useContext","LocalizationContext","isBroadcastAvailable","isSupergroupAvailable","React","Modal","MODAL__CREATE_CHANNEL__TITLE","CHANNEL_TYPE","GROUP","Icon","IconTypes","CHAT","IconColors","PRIMARY","Label","LabelTypography","SUBTITLE_1","LabelColors","ONBACKGROUND_1","MODAL__CREATE_CHANNEL__GROUP","SUPERGROUP","MODAL__CREATE_CHANNEL__SUPER","BROADCAST","MODAL__CREATE_CHANNEL__BROADCAST"],"mappings":"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"}