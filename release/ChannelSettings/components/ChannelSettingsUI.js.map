{"version":3,"file":"ChannelSettingsUI.js","sources":["../../../src/smart-components/ChannelSettings/components/ChannelSettingsUI/index.tsx"],"sourcesContent":["import './channel-settings-ui.scss';\n\nimport React, { useContext, useState } from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettings } from '../../context/ChannelSettingsProvider';\n\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport ChannelProfile from '../ChannelProfile';\nimport AdminPanel from '../AdminPanel';\nimport LeaveChannelModal from '../LeaveChannel';\nimport UserPanel from '../UserPanel';\n\nexport interface ChannelSettingsUIProps {\n  renderPlaceholderError?: () => React.ReactNode;\n  renderChannelProfile?: () => React.ReactNode;\n  renderModerationPanel?: () => React.ReactNode;\n  renderLeaveChannel?: () => React.ReactNode;\n}\n\nconst ChannelSettingsUI: React.FC<ChannelSettingsUIProps> = (props: ChannelSettingsUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n\n  const state = useSendbirdStateContext();\n  const channelSettingStore = useChannelSettings();\n\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const isOnline = state?.config?.isOnline;\n  const logger = state?.config?.logger;\n\n  const {\n    channel,\n    invalidChannel,\n    onCloseClick,\n  } = channelSettingStore;\n\n  const {\n    renderPlaceholderError,\n    renderChannelProfile,\n    renderModerationPanel,\n    renderLeaveChannel,\n  } = props;\n\n  if (!channel || invalidChannel) {\n    return (\n      <div>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          />\n        </div>\n        <div>\n          {\n            renderPlaceholderError\n              ? renderPlaceholderError()\n              : (\n                <PlaceHolder type={PlaceHolderTypes.WRONG} />\n              )\n          }\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile?.() || (\n            <ChannelProfile />\n          )\n        }\n        {\n          renderModerationPanel?.() || (\n            channel.myRole === 'operator'\n              ? (<AdminPanel />)\n              : (<UserPanel />)\n          )\n        }\n        {\n          renderLeaveChannel?.() || (\n            <div\n              className={[\n                'sendbird-channel-settings__panel-item',\n                'sendbird-channel-settings__leave-channel',\n                !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n              ].join(' ')}\n              role=\"button\"\n              onKeyDown={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              onClick={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              tabIndex={0}\n            >\n              <Icon\n                className={[\n                  'sendbird-channel-settings__panel-icon-left',\n                  'sendbird-channel-settings__panel-icon__leave',\n                ].join(' ')}\n                type={IconTypes.LEAVE}\n                fillColor={IconColors.ERROR}\n                height=\"24px\"\n                width=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n              </Label>\n            </div>\n          )\n        }\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCancel={() => {\n                setShowLeaveChannelModal(false);\n              }}\n              onSubmit={() => {\n                setShowLeaveChannelModal(false);\n                onCloseClick?.();\n              }}\n            />\n          )\n        }\n      </div>\n    </>\n  );\n}\n\nexport default ChannelSettingsUI;\n"],"names":["ChannelSettingsUI","props","stringSet","useContext","LocalizationContext","state","useSendbirdStateContext","channelSettingStore","useChannelSettings","_c","useState","showLeaveChannelModal","setShowLeaveChannelModal","isOnline","config","logger","channel","invalidChannel","onCloseClick","renderPlaceholderError","renderChannelProfile","renderModerationPanel","renderLeaveChannel","React","LabelTypography","H_2","LabelColors","ONBACKGROUND_1","CHANNEL_SETTING__HEADER__TITLE","IconTypes","CLOSE","info","PlaceHolderTypes","WRONG","myRole","AdminPanel","join","LEAVE","IconColors","ERROR","SUBTITLE_1","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","LeaveChannelModal"],"mappings":"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"}