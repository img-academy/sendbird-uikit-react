{"version":3,"file":"ChannelProfile.js","sources":["../../../src/smart-components/ChannelSettings/components/ChannelProfile/index.tsx"],"sourcesContent":["import './channel-profile.scss';\nimport React, { useState, useContext } from 'react';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettings } from '../../context/ChannelSettingsProvider';\n\nimport ChannelAvatar from '../../../../ui/ChannelAvatar';\nimport TextButton from '../../../../ui/TextButton';\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\n\nimport EditDetailsModal from '../EditDetailsModal';\n\nconst ChannelProfile: React.FC = () => {\n  const state = useSendbirdStateContext();\n  const channelSettingStore = useChannelSettings();\n  const { stringSet } = useContext(LocalizationContext);\n  const [showModal, setShowModal] = useState(false);\n\n  const userId = state?.config?.userId;\n  const theme = state?.config?.theme || 'light';\n  const isOnline = state?.config?.isOnline;\n  const disabled = !isOnline;\n\n  const { channel } = channelSettingStore;\n\n  const getChannelName = () => {\n    if (channel?.name && channel?.name !== 'Group Channel') {\n      return channel.name;\n    }\n    if (channel?.name === 'Group Channel' || !channel?.name) {\n      return channel.members.map((member) => member.nickname || stringSet.NO_NAME).join(', ');\n    }\n\n    return stringSet.NO_TITLE;\n  };\n\n  return (\n    <div className=\"sendbird-channel-profile\">\n      <div className=\"sendbird-channel-profile--inner\">\n        <div className=\"sendbird-channel-profile__avatar\">\n          <ChannelAvatar\n            channel={channel}\n            userId={userId}\n            theme={theme}\n            width={80}\n            height={80}\n          />\n        </div>\n        <Label\n          className=\"sendbird-channel-profile__title\"\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {getChannelName()}\n        </Label>\n        <TextButton\n          disabled={disabled}\n          className=\"sendbird-channel-profile__edit\"\n          onClick={() => {\n            if (disabled) { return; }\n            setShowModal(true);\n          }}\n          notUnderline\n        >\n          <Label\n            type={LabelTypography.BUTTON_1}\n            color={disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY}\n          >\n            {stringSet.CHANNEL_SETTING__PROFILE__EDIT}\n          </Label>\n        </TextButton>\n        {\n          showModal && (\n            <EditDetailsModal\n              onCancel={() => setShowModal(false)}\n              onSubmit={() => setShowModal(false)}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default ChannelProfile;\n"],"names":["ChannelProfile","state","useSendbirdStateContext","channelSettingStore","useChannelSettings","stringSet","useContext","LocalizationContext","_d","useState","showModal","setShowModal","userId","config","theme","isOnline","disabled","channel","getChannelName","name","members","map","member","nickname","NO_NAME","join","NO_TITLE","React","LabelTypography","SUBTITLE_2","LabelColors","ONBACKGROUND_1","BUTTON_1","ONBACKGROUND_2","PRIMARY","CHANNEL_SETTING__PROFILE__EDIT","EditDetailsModal"],"mappings":"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"}