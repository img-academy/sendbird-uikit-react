{"version":3,"file":"LeaveChannel.js","sources":["../../../../src/smart-components/ChannelSettings/components/LeaveChannel/index.tsx"],"sourcesContent":["import React from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettings } from '../../context/ChannelSettingsProvider';\nimport { noop } from '../../../../utils/utils';\n\nimport Modal from '../../../../ui/Modal';\n\nexport type LeaveChannelProps = {\n  onSubmit: () => void;\n  onCancel: () => void;\n}\n\nconst LeaveChannel: React.FC<LeaveChannelProps> = (props: LeaveChannelProps) => {\n  const {\n    onSubmit = noop,\n    onCancel = noop,\n  } = props;\n\n  const channel = useChannelSettings()?.channel;\n  const state = useSendbirdStateContext();\n  const logger = state?.config?.logger;\n  const isOnline = state?.config?.isOnline;\n  if (channel) {\n    return (\n      <Modal\n        disabled={!isOnline}\n        onCancel={onCancel}\n        onSubmit={() => {\n          logger.info('ChannelSettings: Leaving channel', channel);\n          channel.leave()\n            .then(() => {\n              logger.info('ChannelSettings: Leaving channel successful!', channel);\n              onSubmit();\n            });\n        }}\n        submitText=\"Leave\"\n        titleText=\"Leave this channel?\"\n      />\n    );\n  }\n};\n\nexport default LeaveChannel;\n"],"names":["LeaveChannel","props","_d","onSubmit","noop","_e","onCancel","channel","useChannelSettings","state","useSendbirdStateContext","logger","config","isOnline","React","Modal","info","leave","then"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;IAaMA,YAAY,GAAgC,SAA5CA,YAA4C,CAACC,KAAD;;;AAE9C,MAAAC,KAEED,KAAK,SAFP;AAAA,MAAAE,SAAQ,mBAAGC,eAAX;AAAA,MACAC,KACEJ,KAAK,SAFP;AAAA,MACAK,QAAQ,mBAAGF,eADX;;AAIF,MAAMG,OAAO,GAAG,MAAAC,0CAAkB,EAAlB,UAAA,iBAAA,SAAA,MAAsBD,OAAtC;AACA,MAAME,KAAK,GAAGC,uBAAuB,EAArC;AACA,MAAMC,MAAM,GAAG,MAAAF,KAAK,SAAL,IAAAA,KAAK,WAAL,SAAA,GAAAA,KAAK,CAAEG,MAAP,UAAA,iBAAA,SAAA,MAAeD,MAA9B;AACA,MAAME,QAAQ,GAAG,MAAAJ,KAAK,SAAL,IAAAA,KAAK,WAAL,SAAA,GAAAA,KAAK,CAAEG,MAAP,UAAA,iBAAA,SAAA,MAAeC,QAAhC;;AACA,MAAIN,OAAJ,EAAa;AACX,wBACEO,wCAACC,mBAAD;AACE,MAAA,QAAQ,EAAE,CAACF,QADb;AAEE,MAAA,QAAQ,EAAEP,QAFZ;AAGE,MAAA,QAAQ,EAAE;AACRK,QAAAA,MAAM,CAACK,IAAP,CAAY,kCAAZ,EAAgDT,OAAhD;AACAA,QAAAA,OAAO,CAACU,KAAR,GACGC,IADH,CACQ;AACJP,UAAAA,MAAM,CAACK,IAAP,CAAY,8CAAZ,EAA4DT,OAA5D;;AACAJ,UAAAA,SAAQ;AACT,SAJH;AAKD,OAVH;AAWE,MAAA,UAAU,EAAC,OAXb;AAYE,MAAA,SAAS,EAAC;AAZZ,MADF;AAgBD;AACF;;;;"}