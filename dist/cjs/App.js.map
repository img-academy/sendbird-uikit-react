{"version":3,"file":"App.js","sources":["../../src/smart-components/App/index.jsx"],"sourcesContent":["/**\n * This is a drop in Chat solution\n * Can also be used as an example for creating\n * default chat apps\n */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sendbird from '../../lib/Sendbird';\n\nimport ChannelList from '../ChannelList';\nimport Channel from '../Channel';\nimport ChannelSettings from '../ChannelSettings';\nimport MessageSearchPannel from '../MessageSearch';\n\nimport './index.scss';\n\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n    dateLocale,\n    config = {},\n    useReaction,\n    isMentionEnabled,\n    replyType,\n    useMessageGrouping,\n    colorSet,\n    stringSet,\n    allowProfileEdit,\n    disableUserProfile,\n    renderUserProfile,\n    showSearchIcon,\n    onProfileEditSuccess,\n    imageCompression,\n    disableAutoSelect,\n    isTypingIndicatorEnabledOnChannelList,\n    isMessageReceiptStatusEnabledOnChannelList,\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [highlightedMessage, setHighlightedMessage] = useState(null);\n  const [startingPoint, setStartingPoint] = useState(null);\n\n  return (\n    <Sendbird\n      stringSet={stringSet}\n      appId={appId}\n      userId={userId}\n      accessToken={accessToken}\n      theme={theme}\n      nickname={nickname}\n      profileUrl={profileUrl}\n      dateLocale={dateLocale}\n      userListQuery={userListQuery}\n      config={config}\n      colorSet={colorSet}\n      disableUserProfile={disableUserProfile}\n      renderUserProfile={renderUserProfile}\n      imageCompression={imageCompression}\n      useReaction={useReaction}\n      isMentionEnabled={isMentionEnabled}\n      isTypingIndicatorEnabledOnChannelList={isTypingIndicatorEnabledOnChannelList}\n      isMessageReceiptStatusEnabledOnChannelList={isMessageReceiptStatusEnabledOnChannelList}\n    >\n      <div className=\"sendbird-app__wrap\">\n        <div className=\"sendbird-app__channellist-wrap\">\n          <ChannelList\n            allowProfileEdit={allowProfileEdit}\n            onProfileEditSuccess={onProfileEditSuccess}\n            disableAutoSelect={disableAutoSelect}\n            onChannelSelect={(channel) => {\n              setStartingPoint(null);\n              setHighlightedMessage(null);\n              if (channel && channel.url) {\n                setCurrentChannelUrl(channel.url);\n              } else {\n                setCurrentChannelUrl('');\n              }\n            }}\n          />\n        </div>\n        <div\n          className={`\n            ${showSettings ? 'sendbird-app__conversation--settings-open' : ''}\n            ${showSearch ? 'sendbird-app__conversation--search-open' : ''}\n            sendbird-app__conversation-wrap\n          `}\n        >\n          <Channel\n            channelUrl={currentChannelUrl}\n            onChatHeaderActionClick={() => {\n              setShowSearch(false);\n              setShowSettings(!showSettings);\n            }}\n            onSearchClick={() => {\n              setShowSettings(false);\n              setShowSearch(!showSearch);\n            }}\n            showSearchIcon={showSearchIcon}\n            startingPoint={startingPoint}\n            highlightedMessage={highlightedMessage}\n            useReaction={useReaction}\n            replyType={replyType}\n            useMessageGrouping={useMessageGrouping}\n          />\n        </div>\n        {showSettings && (\n          <div className=\"sendbird-app__settingspanel-wrap\">\n            <ChannelSettings\n              className=\"sendbird-channel-settings\"\n              channelUrl={currentChannelUrl}\n              onCloseClick={() => {\n                setShowSettings(false);\n              }}\n            />\n          </div>\n        )}\n        {showSearch && (\n          <div className=\"sendbird-app__searchpanel-wrap\">\n            <MessageSearchPannel\n              channelUrl={currentChannelUrl}\n              onResultClick={(message) => {\n                if (message.messageId === highlightedMessage) {\n                  setHighlightedMessage(null);\n                  setTimeout(() => {\n                    setHighlightedMessage(message.messageId);\n                  });\n                } else {\n                  setStartingPoint(message.createdAt);\n                  setHighlightedMessage(message.messageId);\n                }\n              }}\n              onCloseClick={() => {\n                setShowSearch(false);\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </Sendbird>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  allowProfileEdit: PropTypes.bool,\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  onProfileEditSuccess: PropTypes.func,\n  dateLocale: PropTypes.shape({}),\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }),\n  useReaction: PropTypes.bool,\n  replyType: PropTypes.oneOf(['NONE', 'QUOTE_REPLY', 'THREAD']),\n  showSearchIcon: PropTypes.bool,\n  useMessageGrouping: PropTypes.bool,\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n    resizingHeight: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  disableAutoSelect: PropTypes.bool,\n  isMentionEnabled: PropTypes.bool,\n  isTypingIndicatorEnabledOnChannelList: PropTypes.bool,\n  isMessageReceiptStatusEnabledOnChannelList: PropTypes.bool,\n};\n\nApp.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n  dateLocale: null,\n  allowProfileEdit: false,\n  onProfileEditSuccess: null,\n  disableUserProfile: false,\n  showSearchIcon: false,\n  renderUserProfile: null,\n  config: {},\n  useReaction: true,\n  isMentionEnabled: false,\n  replyType: 'NONE',\n  useMessageGrouping: true,\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  disableAutoSelect: false,\n  isTypingIndicatorEnabledOnChannelList: false,\n  isMessageReceiptStatusEnabledOnChannelList: false,\n};\n"],"names":["App","props","appId","userId","accessToken","theme","userListQuery","nickname","profileUrl","dateLocale","config","useReaction","isMentionEnabled","replyType","useMessageGrouping","colorSet","stringSet","allowProfileEdit","disableUserProfile","renderUserProfile","showSearchIcon","onProfileEditSuccess","imageCompression","disableAutoSelect","isTypingIndicatorEnabledOnChannelList","isMessageReceiptStatusEnabledOnChannelList","useState","currentChannelUrl","setCurrentChannelUrl","showSettings","setShowSettings","showSearch","setShowSearch","highlightedMessage","setHighlightedMessage","startingPoint","setStartingPoint","React","Sendbird","channel","url","MessageSearchPannel","message","messageId","setTimeout","createdAt","propTypes","PropTypes","string","isRequired","func","bool","shape","logLevel","oneOfType","arrayOf","oneOf","objectOf","compressionRate","number","resizingWidth","resizingHeight","defaultProps"],"mappings":"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"}