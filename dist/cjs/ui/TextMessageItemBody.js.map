{"version":3,"file":"TextMessageItemBody.js","sources":["../../../src/ui/TextMessageItemBody/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext, useMemo } from 'react';\nimport SendBird from 'sendbird';\nimport './index.scss';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { getClassName, isEditedMessage } from '../../utils';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport uuidv4 from '../../utils/uuid';\nimport Word from '../Word';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: SendBird.UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isMentionEnabled?: boolean;\n}\n\nexport default function TextMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isMentionEnabled = false,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  const isMessageMentioned = isMentionEnabled && message?.mentionedMessageTemplate?.length > 0 && message?.mentionedUsers?.length > 0;\n  const sentences: Array<Array<string>> = useMemo(() => {\n    return message?.mentionedMessageTemplate?.split(/\\n/).map((sentence) => sentence.split(/\\s/));\n  }, [message?.mentionedMessageTemplate]);\n  return (\n    <Label\n      type={LabelTypography.BODY_1}\n      color={isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1}\n    >\n      <p className={getClassName([\n        className,\n        'sendbird-text-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}>\n        {\n          isMessageMentioned\n           ? (\n              sentences.map((sentence, index) => {\n                return [\n                  sentence.map((word) => {\n                    return (\n                      <Word\n                        key={uuidv4()}\n                        word={word}\n                        message={message}\n                        isByMe={isByMe}\n                      />\n                    );\n                  }),\n                  sentences?.[index + 1] ? <br /> : null,\n                ]\n              })\n           )\n           : message?.message\n        }\n        {\n          isEditedMessage(message) && (\n            <Label\n              className=\"sendbird-text-message-item-body__message edited\"\n              type={LabelTypography.BODY_1}\n              color={isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2}\n            >\n              {` ${stringSet.MESSAGE_EDITED} `}\n            </Label>\n          )\n        }\n      </p>\n    </Label>\n  );\n}\n"],"names":["TextMessageItemBody","_a","className","message","_e","isByMe","_f","mouseHover","_g","isMentionEnabled","stringSet","useContext","LocalizationContext","isMessageMentioned","mentionedMessageTemplate","length","mentionedUsers","sentences","useMemo","split","map","sentence","React","Label","LabelTypography","BODY_1","LabelColors","ONCONTENT_1","ONBACKGROUND_1","getClassName","reactions","index","word","Word","uuidv4","isEditedMessage","ONCONTENT_2","ONBACKGROUND_2","MESSAGE_EDITED"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAkBwBA,oBAAoBC;;;MAC1CC,SAAS;MACTC,OAAO;MACPC;MAAAC,MAAM,mBAAG;MACTC;MAAAC,UAAU,mBAAG;MACbC;MAAAC,gBAAgB,mBAAG;AAEX,MAAAC,SAAS,GAAKC,gBAAU,CAACC,uCAAD,CAAV,UAAd;AACR,MAAMC,kBAAkB,GAAGJ,gBAAgB,IAAI,CAAA,MAAAN,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEW,wBAAT,UAAA,iBAAA,SAAA,MAAmCC,MAAnC,IAA4C,CAAhE,IAAqE,CAAA,MAAAZ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEa,cAAT,UAAA,iBAAA,SAAA,MAAyBD,MAAzB,IAAkC,CAAlI;AACA,MAAME,SAAS,GAAyBC,aAAO,CAAC;;;AAC9C,WAAO,MAAAf,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEW,wBAAT,UAAA,iBAAA,SAAA,MAAmCK,MAAM,MAAMC,IAAI,UAACC,QAAD;AAAc,aAAAA,QAAQ,CAACF,KAAT,CAAe,IAAf,CAAA;AAAoB,MAA5F;AACD,GAF8C,EAE5C,CAAChB,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEW,wBAAV,CAF4C,CAA/C;AAGA,sBACEQ,wCAACC,cAAD;AACE,IAAA,IAAI,EAAEC,wBAAe,CAACC,MADxB;AAEE,IAAA,KAAK,EAAEpB,MAAM,GAAGqB,oBAAW,CAACC,WAAf,GAA6BD,oBAAW,CAACE;AAFxD,kBAIEN;AAAG,IAAA,SAAS,EAAEO,kBAAY,CAAC,CACzB3B,SADyB,EAEzB,iCAFyB,EAGzBG,MAAM,GAAG,UAAH,GAAgB,UAHG,EAIzBE,UAAU,GAAG,aAAH,GAAmB,EAJJ,EAKzB,CAAA,MAAAJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2B,SAAT,UAAA,iBAAA,SAAA,MAAoBf,MAApB,IAA6B,CAA7B,GAAiC,WAAjC,GAA+C,EALtB,CAAD;AAA1B,KAQIF,kBAAkB,GAEdI,SAAS,CAACG,GAAV,CAAc,UAACC,QAAD,EAAWU,KAAX;AACZ,WAAO,CACLV,QAAQ,CAACD,GAAT,CAAa,UAACY,IAAD;AACX,0BACEV,wCAACW,YAAD;AACE,QAAA,GAAG,EAAEC,WAAM,EADb;AAEE,QAAA,IAAI,EAAEF,IAFR;AAGE,QAAA,OAAO,EAAE7B,OAHX;AAIE,QAAA,MAAM,EAAEE;AAJV,QADF;AAQD,KATD,CADK,EAWL,CAAAY,SAAS,SAAT,IAAAA,SAAS,WAAT,SAAA,GAAAA,SAAS,CAAGc,KAAK,GAAG,CAAX,CAAT,iBAAyBT,mDAAzB,GAAkC,IAX7B,CAAP;AAaD,GAdD,CAFc,GAkBfnB,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEA,OA1BhB,EA6BIgC,qBAAe,CAAChC,OAAD,CAAf,iBACEmB,wCAACC,cAAD;AACE,IAAA,SAAS,EAAC,iDADZ;AAEE,IAAA,IAAI,EAAEC,wBAAe,CAACC,MAFxB;AAGE,IAAA,KAAK,EAAEpB,MAAM,GAAGqB,oBAAW,CAACU,WAAf,GAA6BV,oBAAW,CAACW;AAHxD,KAKG,MAAI3B,SAAS,CAAC4B,cAAd,MALH,CA9BN,CAJF,CADF;AA+CD;;;;"}