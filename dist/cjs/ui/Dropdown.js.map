{"version":3,"file":"Dropdown.js","sources":["../../../src/hooks/onClickOutside.jsx","../../../src/ui/Dropdown/index.jsx"],"sourcesContent":["import { useEffect } from 'react';\n\nexport default function useOutsideAlerter({\n  ref,\n  callback,\n}) {\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    // Bind the event listener\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  });\n}\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport onClickOutside from '../../hooks/onClickOutside';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const MenuItem = ({ children, onClick }) => (\n  <li\n    className=\"sendbird-dropdown__menu-item\"\n    role=\"menuitem\"\n    onClick={onClick}\n    onKeyPress={(e) => {\n      if (e.keyCode === 13) {\n        onClick(e);\n      }\n    }}\n  >\n    <Label\n      className=\"sendbird-dropdown__menu-item__text\"\n      type={LabelTypography.SUBTITLE_2}\n      color={LabelColors.ONBACKGROUND_1}\n    >\n      {children}\n    </Label>\n  </li>\n);\n\nMenuItem.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\n/**\n * For now, this is not a dropdown component that should be used inside forms\n * This should be used in a list or in a nav-bar where you can click\n * and a list of options opens up\n * Also closing the dropdown is a manual operation for now\n * More options, Aria labels etc should be implemented\n */\nconst DropdownMenu = ({ renderButton, renderItems }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const wrapperRef = useRef(null);\n  onClickOutside({\n    ref: wrapperRef,\n    callback: () => setIsOpen(false),\n  });\n  return (\n    <div className=\"sendbird-dropdown\" ref={wrapperRef}>\n      <div className=\"sendbird-dropdown__button\">\n        {renderButton(() => setIsOpen(!isOpen)/** toggle-menu */)}\n      </div>\n      {\n        isOpen && (\n          <ul className=\"sendbird-dropdown__menu\">\n            {renderItems(() => setIsOpen(false)/** close-menu */)}\n          </ul>\n        )\n      }\n    </div>\n  );\n};\n\nDropdownMenu.propTypes = {\n  renderButton: PropTypes.func.isRequired,\n  renderItems: PropTypes.func.isRequired,\n};\n\nexport default DropdownMenu;\n"],"names":["useOutsideAlerter","ref","callback","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","MenuItem","children","onClick","React","e","keyCode","Label","LabelTypography","SUBTITLE_2","LabelColors","ONBACKGROUND_1","propTypes","PropTypes","oneOfType","string","element","isRequired","func","DropdownMenu","renderButton","renderItems","useState","isOpen","setIsOpen","wrapperRef","useRef","onClickOutside"],"mappings":";;;;;;;;;;;;;;;AAEe,SAASA,iBAAT,OAGZ;AAAA,MAFDC,GAEC,QAFDA,GAEC;AAAA,MADDC,QACC,QADDA,QACC;;AACD,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AACpC,QAAIH,GAAG,CAACI,OAAJ,IAAe,CAACJ,GAAG,CAACI,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;AACtDL,MAAAA,QAAQ;AACT;AACF,GAJD;;AAMAM,EAAAA,eAAS,CAAC,YAAM;AACd;AACAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCP,kBAAvC;AACA,WAAO,YAAM;AACX;AACAM,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CR,kBAA1C;AACD,KAHD;AAID,GAPQ,CAAT;AAQD;;ICZYS,QAAQ,GAAG,SAAXA,QAAW;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,MAAaC,OAAb,QAAaA,OAAb;AAAA,sBACtBC;AACE,IAAA,SAAS,EAAC,8BADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,OAAO,EAAED,OAHX;AAIE,IAAA,UAAU,EAAE,oBAACE,CAAD,EAAO;AACjB,UAAIA,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;AACpBH,QAAAA,OAAO,CAACE,CAAD,CAAP;AACD;AACF;AARH,kBAUED,wCAACG,cAAD;AACE,IAAA,SAAS,EAAC,oCADZ;AAEE,IAAA,IAAI,EAAEC,wBAAe,CAACC,UAFxB;AAGE,IAAA,KAAK,EAAEC,oBAAW,CAACC;AAHrB,KAKGT,QALH,CAVF,CADsB;AAAA;AAqBxBD,QAAQ,CAACW,SAAT,GAAqB;AACnBV,EAAAA,QAAQ,EAAEW,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,MADkB,EAE5BF,6BAAS,CAACG,OAFkB,CAApB,EAGPC,UAJgB;AAKnBd,EAAAA,OAAO,EAAEU,6BAAS,CAACK,IAAV,CAAeD;AALL,CAArB;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;IACME,YAAY,GAAG,SAAfA,YAAe,QAAmC;AAAA,MAAhCC,YAAgC,SAAhCA,YAAgC;AAAA,MAAlBC,WAAkB,SAAlBA,WAAkB;;AACtD,kBAA4BC,cAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AACA,MAAMC,UAAU,GAAGC,YAAM,CAAC,IAAD,CAAzB;AACAC,EAAAA,iBAAc,CAAC;AACbrC,IAAAA,GAAG,EAAEmC,UADQ;AAEblC,IAAAA,QAAQ,EAAE;AAAA,aAAMiC,SAAS,CAAC,KAAD,CAAf;AAAA;AAFG,GAAD,CAAd;AAIA,sBACEpB;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAmC,IAAA,GAAG,EAAEqB;AAAxC,kBACErB;AAAK,IAAA,SAAS,EAAC;AAAf,KACGgB,YAAY,CAAC;AAAA,WAAMI,SAAS,CAAC,CAACD,MAAF,CAAf;AAAA;AAAwB;AAAzB,GADf,CADF,EAKIA,MAAM,iBACJnB;AAAI,IAAA,SAAS,EAAC;AAAd,KACGiB,WAAW,CAAC;AAAA,WAAMG,SAAS,CAAC,KAAD,CAAf;AAAA;AAAsB;AAAvB,GADd,CANN,CADF;AAcD;;AAEDL,YAAY,CAACP,SAAb,GAAyB;AACvBQ,EAAAA,YAAY,EAAEP,6BAAS,CAACK,IAAV,CAAeD,UADN;AAEvBI,EAAAA,WAAW,EAAER,6BAAS,CAACK,IAAV,CAAeD;AAFL,CAAzB;;;;;"}