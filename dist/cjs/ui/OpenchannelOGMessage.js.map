{"version":3,"file":"OpenchannelOGMessage.js","sources":["../../../src/ui/OpenchannelOGMessage/utils.ts","../../../src/ui/OpenchannelOGMessage/index.tsx"],"sourcesContent":["import Sendbird from 'sendbird';\n\nexport const URL_REG = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;\nexport const createUrlTester = (regexp: RegExp) => (text: string): boolean => regexp.test(text);\nexport const checkOGIsEnalbed = (message: Sendbird.UserMessage): boolean => {\n  const { ogMetaData } = message;\n  if (!ogMetaData) {\n    return false;\n  }\n  const { url } = ogMetaData;\n  if (!url) {\n    return false;\n  }\n  return true;\n};\n","import React, { useState, useContext, useMemo, useRef, useEffect } from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport ImageRenderer from '../ImageRenderer';\nimport LinkLabel from '../LinkLabel';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\n\nimport uuidv4 from '../../utils/uuid';\nimport { copyToClipboard } from '../OpenchannelUserMessage/utils';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport { checkOGIsEnalbed, createUrlTester, URL_REG } from './utils';\nimport { ClientUserMessage } from '../../index';\nimport {\n  checkIsByMe,\n  checkIsPending,\n  checkIsFailed,\n  isFineCopy,\n  isFineEdit,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\n\ninterface Props {\n  message: ClientUserMessage;\n  className?: string | Array<string>;\n  disabled?: boolean;\n  showEdit(bool: boolean): void;\n  showRemove(bool: boolean): void;\n  resendMessage(message: ClientUserMessage): void;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  userId: string;\n}\n\nexport default function OpenchannelOGMessage({\n  message,\n  className,\n  disabled,\n  showEdit,\n  showRemove,\n  resendMessage,\n  chainTop,\n  userId,\n}: Props): JSX.Element {\n  if (!message || message.messageType !== 'user') {\n    return null;\n  }\n\n  const status = message?.sendingStatus;\n  const { ogMetaData } = message;\n  const { defaultImage } = ogMetaData;\n\n  const { stringSet, dateLocale } = useLocalization();\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const [contextStyle, setContextStyle] = useState({});\n  const messageComponentRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n\n  const isUrl = createUrlTester(URL_REG);\n  const isByMe = checkIsByMe(message, userId);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  const MemoizedMessageText = useMemo(() => () => {\n    const wordClassName = 'sendbird-openchannel-og-message--word';\n    const splitMessage = message.message.split(' ');\n    const matchedMessage = splitMessage\n      .map((word) => (\n        isUrl(word)\n          ? (\n            <LinkLabel\n              key={uuidv4()}\n              className={[\n                wordClassName,\n                'sendbird-openchannel-og-message--word--link'\n              ]}\n              src={word}\n              type={LabelTypography.BODY_1}\n              color={LabelColors.PRIMARY}\n            >\n              {word}\n            </LinkLabel>\n          )\n          : (\n            <Label\n              key={uuidv4()}\n              className={wordClassName}\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {word}\n            </Label>\n          )\n      ));\n\n    if (message.updatedAt > 0) {\n      matchedMessage.push(\n        <Label\n          key={uuidv4()}\n          className={wordClassName}\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.MESSAGE_EDITED}\n        </Label>,\n      );\n    }\n\n    return matchedMessage;\n  }, [message, message.updatedAt]);\n\n  const openLink = () => {\n    if (checkOGIsEnalbed(message)) {\n      const { url } = ogMetaData;\n      window.open(url);\n    }\n  };\n\n  // place conxt menu top depending clientHeight of message component\n  useEffect(() => {\n    if (messageComponentRef?.current?.clientHeight > 36) {\n      setContextStyle({ top: '8px ' });\n    } else {\n      setContextStyle({ top: '2px' });\n    }\n  }, [window.innerWidth]);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-og-message',\n      ].join(' ')}\n      ref={messageComponentRef}\n    >\n      <div\n        className=\"sendbird-openchannel-og-message__top\"\n      >\n        <div className=\"sendbird-openchannel-og-message__top__left\">\n          {\n            !chainTop && (\n              <ContextMenu\n                menuTrigger={(toggleDropdown) => (\n                  <Avatar\n                    className=\"sendbird-openchannel-og-message__top__left__avatar\"\n                    src={sender.profileUrl || ''}\n                    ref={avatarRef}\n                    width=\"28px\"\n                    height=\"28px\"\n                    onClick={() => {\n                      if (!disableUserProfile) {\n                        toggleDropdown();\n                      }\n                    }}\n                  />\n                )}\n                menuItems={(closeDropdown) => (\n                  <MenuItems\n                    parentRef={avatarRef}\n                    parentContainRef={avatarRef}\n                    closeDropdown={closeDropdown}\n                    style={{ paddingTop: 0, paddingBottom: 0 }}\n                  >\n                    {\n                      renderUserProfile\n                        ? (\n                          renderUserProfile({\n                            user: sender,\n                            close: closeDropdown,\n                          })\n                        )\n                        : (\n                          <UserProfile\n                            user={sender}\n                            onSuccess={closeDropdown}\n                            disableMessaging\n                          />\n                        )\n                    }\n                  </MenuItems>\n                )}\n              />\n            )\n          }\n        </div>\n        <div className=\"sendbird-openchannel-og-message__top__right\">\n          {\n            !chainTop && (\n              <div className=\"sendbird-openchannel-og-message__top__right__title\">\n                <Label\n                  className=\"sendbird-openchannel-og-message__top__right__title__sender-name\"\n                  type={LabelTypography.CAPTION_2}\n                  color={isByMe ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n                >\n                  {\n                    sender && (\n                      sender.friendName\n                      || sender.nickname\n                      || sender.userId\n                    )\n                  }\n                </Label>\n                <Label\n                  className=\"sendbird-openchannel-og-message__top__right__title__sent-at\"\n                  type={LabelTypography.CAPTION_3}\n                  color={LabelColors.ONBACKGROUND_3}\n                >\n                  {\n                    message?.createdAt && (\n                      format(message?.createdAt, 'p', {\n                        locale: dateLocale,\n                      })\n                    )\n                  }\n                </Label>\n              </div>\n            )\n          }\n          <div className=\"sendbird-openchannel-og-message__top__right__description\">\n            <Label\n              className=\"sendbird-openchannel-og-message__top__right__description__message\"\n              type={LabelTypography.BODY_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {MemoizedMessageText()}\n            </Label>\n          </div>\n        </div>\n        {\n          <div\n            className=\"sendbird-openchannel-og-message__top__context-menu\"\n            ref={contextMenuRef}\n            style={contextStyle}\n          >\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                showMenuTrigger({ message: message, userId: userId, status: status }) && (\n                  <IconButton\n                    className=\"sendbird-openchannel-og-message__top__context-menu--icon\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    onClick={() => {\n                      toggleDropdown();\n                    }}\n                  >\n                    <Icon\n                      type={IconTypes.MORE}\n                      fillColor={IconColors.CONTENT_INVERSE}\n                      width=\"24px\"\n                      height=\"24px\"\n                    />\n                  </IconButton>\n                )\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={contextMenuRef}\n                  parentContainRef={contextMenuRef}\n                  closeDropdown={closeDropdown}\n                  openLeft\n                >\n                  {\n                    isFineCopy({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__copy\"\n                        onClick={() => {\n                          copyToClipboard(message.message);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__COPY}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineEdit({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__edit\"\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showEdit(true);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__EDIT}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineResend({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__resend\"\n                        onClick={() => {\n                          resendMessage(message);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                      </MenuItem>\n                    )\n                  }\n                  {\n                    isFineDelete({ message, userId, status }) && (\n                      <MenuItem\n                        className=\"sendbird-openchannel-og-message__top__context-menu__delete\"\n                        onClick={() => {\n                          if (disabled) {\n                            return;\n                          }\n                          showRemove(true);\n                          closeDropdown();\n                        }}\n                      >\n                        {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                      </MenuItem>\n                    )\n                  }\n                </MenuItems>\n              )}\n            />\n          </div>\n        }\n      </div>\n      <div className=\"sendbird-openchannel-og-message__bottom\">\n        <div className=\"sendbird-openchannel-og-message__bottom__og-tag\">\n          {\n            ogMetaData.url && (\n              <Label\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__url\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_2}\n              >\n                {ogMetaData.url}\n              </Label>\n            )\n          }\n          {\n            ogMetaData.title && (\n              <LinkLabel\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__title\"\n                src={ogMetaData.url}\n                type={LabelTypography.SUBTITLE_2}\n                color={LabelColors.PRIMARY}\n              >\n                {\n                  ogMetaData.title\n                }\n              </LinkLabel>\n            )\n          }\n          {\n            ogMetaData.description && (\n              <Label\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__description\"\n                type={LabelTypography.BODY_2}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {ogMetaData.description}\n              </Label>\n            )\n          }\n          {\n            ogMetaData.url && (\n              <div\n                className=\"sendbird-openchannel-og-message__bottom__og-tag__thumbnail\"\n                role=\"button\"\n                onClick={openLink}\n                onKeyDown={openLink}\n                tabIndex={0}\n              >\n                {\n                  defaultImage && (\n                    <ImageRenderer\n                      className=\"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image\"\n                      url={defaultImage.url || ''}\n                      alt={defaultImage.alt || ''}\n                      height=\"189px\"\n                      defaultComponent={(\n                        <div className=\"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder\">\n                          <Icon\n                            type={IconTypes.THUMBNAIL_NONE}\n                            width=\"56px\"\n                            height=\"56px\"\n                          />\n                        </div>\n                      )}\n                    />\n                  )\n                }\n              </div>\n            )\n          }\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-og-message__top__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-og-message__top__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-og-message__top__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    fillColor={IconColors.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n"],"names":["URL_REG","createUrlTester","regexp","text","test","checkOGIsEnalbed","message","ogMetaData","url","OpenchannelOGMessage","_a","className","disabled","showEdit","showRemove","resendMessage","chainTop","userId","messageType","status","sendingStatus","defaultImage","_b","useLocalization","stringSet","dateLocale","_c","useContext","UserProfileContext","disableUserProfile","renderUserProfile","_d","useState","contextStyle","setContextStyle","messageComponentRef","useRef","contextMenuRef","avatarRef","isUrl","isByMe","checkIsByMe","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","MemoizedMessageText","useMemo","wordClassName","splitMessage","split","matchedMessage","map","word","React","LinkLabel","uuidv4","LabelTypography","BODY_1","LabelColors","PRIMARY","Label","ONBACKGROUND_1","updatedAt","push","ONBACKGROUND_2","MESSAGE_EDITED","openLink","window","open","useEffect","current","clientHeight","top","innerWidth","__spreadArray","Array","isArray","join","ContextMenu","toggleDropdown","Avatar","profileUrl","closeDropdown","MenuItems","paddingTop","paddingBottom","user","close","UserProfile","CAPTION_2","SECONDARY_3","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","showMenuTrigger","IconButton","Icon","IconTypes","MORE","IconColors","CONTENT_INVERSE","isFineCopy","MenuItem","copyToClipboard","CONTEXT_MENU_DROPDOWN__COPY","isFineEdit","CONTEXT_MENU_DROPDOWN__EDIT","isFineResend","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE","title","SUBTITLE_2","description","BODY_2","ImageRenderer","alt","THUMBNAIL_NONE","Loader","SPINNER","ERROR"],"mappings":"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"}