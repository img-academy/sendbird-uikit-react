{"version":3,"file":"ThumbnailMessageItemBody.js","sources":["../../../src/ui/ThumbnailMessageItemBody/index.tsx"],"sourcesContent":["import React, { ReactElement, useState } from 'react';\nimport { FileMessage } from 'sendbird';\nimport './index.scss';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isGifMessage, isSentMessage, isVideoMessage } from '../../utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function ThumbnailMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  showFileViewer,\n}: Props): ReactElement {\n  const { thumbnails = [] } = message;\n  const thumbnailUrl: string = thumbnails.length > 0 ? thumbnails[0]?.url : '';\n  const [imageRendered, setImageRendered] = useState(false);\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}\n      onClick={() => {\n        if (isSentMessage(message)) {\n          showFileViewer(true);\n        }\n      }}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={thumbnailUrl || message?.url}\n        alt={message?.type}\n        width=\"360px\"\n        height=\"270px\"\n        onLoad={() => { setImageRendered(true) }}\n        placeHolder={(style) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      {\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (\n          <video className=\"sendbird-thumbnail-message-item-body__video\">\n            <source src={message?.url} type={message?.type} />\n          </video>\n        )\n      }\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n      {\n        (isVideoMessage(message) || isGifMessage(message)) && (\n          <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper\">\n            <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                fillColor={IconColors.GRAY}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n"],"names":["ThumbnailMessageItemBody","_a","className","message","_d","isByMe","_e","mouseHover","showFileViewer","_f","thumbnails","thumbnailUrl","length","url","_g","useState","imageRendered","setImageRendered","React","getClassName","reactions","isSentMessage","ImageRenderer","type","style","Icon","isVideoMessage","IconTypes","PLAY","PHOTO","IconColors","ON_BACKGROUND_2","isGifMessage","GIF","GRAY"],"mappings":"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"}