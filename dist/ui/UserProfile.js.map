{"version":3,"file":"UserProfile.js","sources":["../../src/ui/UserProfile/index.tsx"],"sourcesContent":["import React, { ReactElement, useContext } from 'react';\nimport type SendBird from 'sendbird';\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { getSdk, getCreateChannel } from '../../lib/selectors';\nimport Avatar from '../Avatar/index';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport Button, { ButtonTypes } from '../Button';\n\ninterface Logger {\n  info?(message: string, channel: SendBird.GroupChannel): void;\n}\n\ninterface Props {\n  user: SendBird.User;\n  currentUserId?: string;\n  sdk?: SendBird.SendBirdInstance;\n  logger?: Logger;\n  disableMessaging?: boolean;\n  createChannel?(params: SendBird.GroupChannelParams): Promise<SendBird.GroupChannel>;\n  onSuccess?(): void;\n}\n\nfunction UserProfile({\n  user,\n  currentUserId,\n  sdk,\n  logger,\n  disableMessaging = false,\n  createChannel,\n  onSuccess,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird__user-profile\">\n      <section className=\"sendbird__user-profile-avatar\">\n        <Avatar\n          height=\"80px\"\n          width=\"80px\"\n          src={user?.profileUrl}\n        />\n      </section>\n      <section className=\"sendbird__user-profile-name\">\n        <Label\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user?.nickname || stringSet.NO_NAME}\n        </Label>\n      </section>\n      {\n        (user?.userId !== currentUserId) && !disableMessaging && (\n          <section className=\"sendbird__user-profile-message\">\n            <Button\n              type={ButtonTypes.SECONDARY}\n              onClick={() => {\n                const params = new sdk.GroupChannelParams();\n                params.isDistinct = true;\n                params.addUserIds([user?.userId]);\n                onSuccess();\n                createChannel(params)\n                  .then((groupChannel) => {\n                    logger.info('UserProfile, channel create', groupChannel);\n                  });\n              }}\n            >\n              {stringSet.USER_PROFILE__MESSAGE}\n            </Button>\n          </section>\n        )\n      }\n      <div className=\"sendbird__user-profile-separator\" />\n      <section className=\"sendbird__user-profile-userId\">\n        <Label\n          className=\"sendbird__user-profile-userId--label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.USER_PROFILE__USER_ID}\n        </Label>\n        <Label\n          className=\"sendbird__user-profile-userId--value\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user?.userId}\n        </Label>\n      </section>\n    </div>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n  createChannel: getCreateChannel(store),\n  logger: store.config.logger,\n  pubsub: store.config.pubSub,\n});\n\nconst ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\n\nexport default ConnectedUserProfile;\n"],"names":["UserProfile","_a","user","currentUserId","sdk","logger","_b","disableMessaging","createChannel","onSuccess","stringSet","useContext","LocalizationContext","React","profileUrl","LabelTypography","H_2","LabelColors","ONBACKGROUND_1","nickname","NO_NAME","userId","ButtonTypes","SECONDARY","params","GroupChannelParams","isDistinct","addUserIds","then","groupChannel","info","USER_PROFILE__MESSAGE","CAPTION_2","ONBACKGROUND_2","USER_PROFILE__USER_ID","BODY_1","mapStoreToProps","store","getSdk","getCreateChannel","config","pubsub","pubSub","ConnectedUserProfile","withSendbirdContext"],"mappings":";;;;;;;;;;;;;;;;;AAyBA,SAASA,WAAT,CAAqBC,EAArB;MACEC,IAAI;MACJC,aAAa;MACbC,GAAG;MACHC,MAAM;MACNC;MAAAC,gBAAgB,mBAAG;MACnBC,aAAa;MACbC,SAAS;AAED,MAAAC,SAAS,GAAKC,UAAU,CAACC,mBAAD,CAAV,UAAd;AACR,sBACEC;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,6BAAC,MAAD;AACE,IAAA,MAAM,EAAC,MADT;AAEE,IAAA,KAAK,EAAC,MAFR;AAGE,IAAA,GAAG,EAAEX,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEY;AAHb,IADF,CADF,eAQED;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,6BAAC,KAAD;AACE,IAAA,IAAI,EAAEE,eAAe,CAACC,GADxB;AAEE,IAAA,KAAK,EAAEC,WAAW,CAACC;AAFrB,KAIG,CAAAhB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEiB,QAAN,KAAkBT,SAAS,CAACU,OAJ/B,CADF,CARF,EAiBK,CAAAlB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEmB,MAAN,MAAiBlB,aAAlB,IAAoC,CAACI,gBAArC,iBACEM;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,6BAAC,MAAD;AACE,IAAA,IAAI,EAAES,WAAW,CAACC,SADpB;AAEE,IAAA,OAAO,EAAE;AACP,UAAMC,MAAM,GAAG,IAAIpB,GAAG,CAACqB,kBAAR,EAAf;AACAD,MAAAA,MAAM,CAACE,UAAP,GAAoB,IAApB;AACAF,MAAAA,MAAM,CAACG,UAAP,CAAkB,CAACzB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEmB,MAAP,CAAlB;AACAZ,MAAAA,SAAS;AACTD,MAAAA,aAAa,CAACgB,MAAD,CAAb,CACGI,IADH,CACQ,UAACC,YAAD;AACJxB,QAAAA,MAAM,CAACyB,IAAP,CAAY,6BAAZ,EAA2CD,YAA3C;AACD,OAHH;AAID;AAXH,KAaGnB,SAAS,CAACqB,qBAbb,CADF,CAlBN,eAqCElB;AAAK,IAAA,SAAS,EAAC;AAAf,IArCF,eAsCEA;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,6BAAC,KAAD;AACE,IAAA,SAAS,EAAC,sCADZ;AAEE,IAAA,IAAI,EAAEE,eAAe,CAACiB,SAFxB;AAGE,IAAA,KAAK,EAAEf,WAAW,CAACgB;AAHrB,KAKGvB,SAAS,CAACwB,qBALb,CADF,eAQErB,6BAAC,KAAD;AACE,IAAA,SAAS,EAAC,sCADZ;AAEE,IAAA,IAAI,EAAEE,eAAe,CAACoB,MAFxB;AAGE,IAAA,KAAK,EAAElB,WAAW,CAACC;AAHrB,KAKGhB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEmB,MALT,CARF,CAtCF,CADF;AAyDD;;AAED,IAAMe,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAW,SAAC;AAClCjC,IAAAA,GAAG,EAAEkC,MAAM,CAACD,KAAD,CADuB;AAElC7B,IAAAA,aAAa,EAAE+B,gBAAgB,CAACF,KAAD,CAFG;AAGlChC,IAAAA,MAAM,EAAEgC,KAAK,CAACG,MAAN,CAAanC,MAHa;AAIlCoC,IAAAA,MAAM,EAAEJ,KAAK,CAACG,MAAN,CAAaE;AAJa,GAAD;AAKjC,CALF;;IAOMC,oBAAoB,GAAGC,mBAAmB,CAAC5C,WAAD,EAAcoC,eAAd;;;;"}