{"version":3,"file":"Avatar.js","sources":["../../src/utils/pxToNumber.ts","../../src/ui/Avatar/index.tsx"],"sourcesContent":["export default (px: string | number): number | void => {\n  if (typeof px === 'number') {\n    return px;\n  }\n  if (typeof px === 'string') {\n    const parsed = Number.parseFloat(px);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return null;\n};\n","import React, { ReactElement } from 'react';\n\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../Icon';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\nimport pxToNumber from '../../utils/pxToNumber';\n\nconst imageRendererClassName = 'sendbird-avatar-img';\n\ninterface DefaultComponentProps {\n  width: string | number,\n  height: string | number,\n}\n\nconst DefaultComponent = ({ width, height }: DefaultComponentProps): ReactElement => {\n  let iconWidth = pxToNumber(width);\n  let iconHeight = pxToNumber(height);\n  if (typeof iconWidth === 'number') {\n    iconWidth *= 0.575;\n  }\n  if (typeof iconHeight === 'number') {\n    iconHeight *= 0.575;\n  }\n\n  return (\n    <div className=\"sendbird-avatar-img--default\" style={{ width, height }}>\n      <Icon\n        type={IconTypes.USER}\n        fillColor={IconColors.CONTENT}\n        width={iconWidth}\n        height={iconHeight}\n      />\n    </div>\n  );\n};\n\nconst _defaultComponent = ({\n  width,\n  height,\n}: DefaultComponentProps) => (\n  <DefaultComponent width={width} height={height} />\n);\n\ninterface AvatarInnerProps {\n  height: string | number,\n  width: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nexport const AvatarInner = ({\n  src = '',\n  alt = '',\n  height,\n  width,\n  customDefaultComponent,\n}: AvatarInnerProps): ReactElement => {\n  const defaultComponent = () => customDefaultComponent ? customDefaultComponent({ width, height }) : _defaultComponent({ width, height });\n\n  if (typeof src === 'string') {\n    return (\n      <ImageRenderer\n        className={imageRendererClassName}\n        url={src}\n        height={height}\n        width={width}\n        alt={alt}\n        defaultComponent={defaultComponent}\n      />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <ImageRenderer\n          className={imageRendererClassName}\n          url={src[0]}\n          height={height}\n          width={width}\n          alt={alt}\n          defaultComponent={defaultComponent}\n        />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[0]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[1]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[0]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[1]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[2]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <ImageRenderer\n                className={imageRendererClassName}\n                url={i}\n                height={height}\n                width={width}\n                alt={alt}\n                key={uuidv4()}\n                defaultComponent={defaultComponent}\n              />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return (\n    <ImageRenderer\n      className={imageRendererClassName}\n      url=\"\"\n      height={height}\n      width={width}\n      alt={alt}\n      defaultComponent={defaultComponent}\n    />\n  );\n};\n\ninterface AvatarProps {\n  className?: string | Array<string>,\n  height?: string | number,\n  width?: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  onClick?(): void,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nfunction Avatar(\n  {\n    className = '',\n    src = '',\n    alt = '',\n    width = '56px',\n    height = '56px',\n    onClick,\n    customDefaultComponent,\n  }: AvatarProps,\n  ref: React.Ref<HTMLDivElement>,\n): ReactElement {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-avatar',\n      ].join(' ')}\n      role=\"button\"\n      ref={ref}\n      style={{ height, width }}\n      onClick={onClick}\n      onKeyDown={onClick}\n      tabIndex={0}\n    >\n      <AvatarInner\n        src={src}\n        width={width}\n        height={height}\n        alt={alt}\n        customDefaultComponent={customDefaultComponent}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(Avatar);\n"],"names":["px","parsed","Number","parseFloat","isNaN","imageRendererClassName","DefaultComponent","_a","width","height","iconWidth","pxToNumber","iconHeight","React","IconTypes","USER","IconColors","CONTENT","_defaultComponent","AvatarInner","_b","src","_c","alt","customDefaultComponent","defaultComponent","length","slice","map","i","uuidv4","Avatar","ref","className","_d","_e","_f","onClick","__spreadArray","Array","isArray","join","forwardRef"],"mappings":"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"}